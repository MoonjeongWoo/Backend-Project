<h3>회원정보 확인</h3>
<div class="user-Login">
    <!-- <div class="input-group mb-3">
<span class="input-group-text" id="basic-addon1">uuid</span>
<input id="uuid" type="text" class="form-control" placeholder="Nickname">
</div> -->
    <!-- ID -->
    <div class="input-group mb-3">
        <span class="input-group-text" id="basic-addon1">ID</span>
        <!-- <input id="id" type="text" class="form-control" placeholder="Nickname"> -->
        <input id="id" type="text" class="form-control" placeholder="Nickname" value="ch_id">
        <button type="button" class="btn btn-secondary btn-sm" onclick="idCheck()">중복 확인</button>
    </div>

    <!-- Password -->
    <div class="input-group mb-3">
        <!-- <input id="pw" type="password" class="form-control" placeholder="Password" required> -->
        <input id="pw" type="password" class="form-control" placeholder="Password" value="ch_pw" required>
    </div>

    <div class="input-group mb-3">
        <!-- <input id="confirm_pw" type="password" class="form-control" placeholder="Password" required> -->
        <input id="confirm_pw" type="password" class="form-control" placeholder="Password" required>
    </div>

    <!-- Name -->
    <div class="input-group mb-3">
        <span class="input-group-text" id="basic-addon1">Name</span>
        <!-- <input id="name" type="text" class="form-control" placeholder="Username"> -->
        <input id="name" type="text" class="form-control" placeholder="Username" value="ch_name">
    </div>

    <!-- E-mail -->
    <div class="input-group mb-3">
        <!-- <input id="email" type="text" class="form-control" placeholder="E-mail"> -->
        <input id="email" type="text" class="form-control" placeholder="E-mail" value="ch_email">
        <span class="input-group-text">@</span>
        <select class="form-select">
            <option selected>선택</option>
            <option value="1">naver.com</option>
            <option value="2">gmail.com</option>
            <option value="3">...</option>
        </select>
    </div>

    <!-- Location -->
    <div class="input-group mb-3">
        <span class="input-group-text">Location</span>
        <!-- <input id="location" class="form-control"> -->
        <input id="location" class="form-control" value="ch_location">
    </div>

    <!-- User Identification Picture -->
    <div id="showPic"></div>
    <div>
        <input type="file" name="userIdPic" id="userIdPic" onchange="showPic(event)">
    </div>

    <div class="d-grid gap-2 mb-3">
        <button class="btn btn-primary" type="button" onclick="modUserProfile()">수정</button>
    </div>
</div>

<script>
    function modUserProfile() {
        var formData = new FormData();
        const file = document.getElementById("userIdPic");

        formData.append("id", $("#id").val());
        formData.append("pw", $("#pw").val());
        formData.append("name", $("#name").val());
        formData.append("email", $("#email").val());
        formData.append("location", $("#location").val());
        formData.append("picture", file.files[0]);

        axios({
            headers: {
                "Content-Type": "multipart/form-data",
            },
            url: "/updateProfile",
            method: "post",
            data: formData
        }).then((response) => {
            console.log(response)
        })
    }


    function showPic(event) {
        var reader = new FileReader();

        reader.onload = function (event) {
            var img = document.createElement("img");
            var imgContainer = document.querySelector("div#showPic");

            img.setAttribute("src", event.target.result);
            img.setAttribute('width', '200px');
            img.setAttribute('hieght', '200px');

            if (imgContainer.hasChildNodes()) {
                imgContainer.innerHTML = '';
            }
            imgContainer.appendChild(img);
        };
        reader.readAsDataURL(event.target.files[0]);
    }
//     <div>아이디 : <%= data.id%></div>
//     <div>비밀번호 : <%= data.pw%></div>
//     <div>이름 : <%= data.name%></div>
//     <div>이메일 : <%= data.email%></div>
//     <div>주소 : <%= data.loca%></div>
// </div>
</script>